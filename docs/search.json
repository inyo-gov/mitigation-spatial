[
  {
    "objectID": "data_processing.html",
    "href": "data_processing.html",
    "title": "Data Processing",
    "section": "",
    "text": "This section loads and processes the data for visualization and analysis. The setup code also generates the download files available on the main page.\n\n\nCode\n# Load all required libraries\nlibrary(DT)\nlibrary(ggplot2)\nlibrary(ggrepel)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(readr)\nlibrary(RColorBrewer)\n\n# Export data for downloads (same code as index.qmd setup)\n# Load CSV data\nmitigation_data_export &lt;- read_csv(\"data/gis/Mitigation_PointsAGOL.csv\", show_col_types = FALSE)\nmitigation_data_export &lt;- mitigation_data_export %&gt;%\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Normalize project names\npopup_name_col_export &lt;- if (\"POPUP NAME\" %in% names(mitigation_data_export)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_data_export)) \"POPUP_NAME\" else NULL\nif (!is.null(popup_name_col_export)) {\n  mitigation_data_export[[popup_name_col_export]] &lt;- gsub(\"129/ 118\", \"129/118\", mitigation_data_export[[popup_name_col_export]], fixed = TRUE)\n  mitigation_data_export[[popup_name_col_export]] &lt;- gsub(\"  \", \" \", mitigation_data_export[[popup_name_col_export]])\n  mitigation_data_export[[popup_name_col_export]] &lt;- trimws(mitigation_data_export[[popup_name_col_export]])\n}\n\n# Convert CSV to spatial points\nmitigation_sf_export &lt;- st_as_sf(\n  mitigation_data_export,\n  coords = c(\"Longitude\", \"Latitude\"),\n  crs = 4326\n)\n\n# Load shapefile data\nmitigation_sites_sf_export &lt;- st_read(\"data/gis/mit_points/mitigation_sites.shp\", quiet = TRUE) %&gt;%\n  st_transform(4326)\n\n# Export data\nif (!dir.exists(\"output\")) dir.create(\"output\", recursive = TRUE)\nif (!dir.exists(\"docs\")) dir.create(\"docs\", recursive = TRUE)\n\ntryCatch({\n  write_sf(mitigation_sf_export, \"output/mitigation_points.geojson\", delete_dsn = TRUE)\n  write_sf(mitigation_sf_export, \"docs/mitigation_points.geojson\", delete_dsn = TRUE)\n}, error = function(e) cat(\"Warning: Could not export CSV points to GeoJSON\\n\"))\n\ntryCatch({\n  if (exists(\"mitigation_sites_sf_export\") && nrow(mitigation_sites_sf_export) &gt; 0) {\n    mitigation_sites_sf_geojson &lt;- st_cast(mitigation_sites_sf_export, \"MULTIPOLYGON\") %&gt;%\n      st_cast(\"POLYGON\") %&gt;%\n      st_simplify(dTolerance = 0.001)\n    \n    write_sf(mitigation_sites_sf_geojson, \"output/mitigation_sites.geojson\", delete_dsn = TRUE)\n    write_sf(mitigation_sites_sf_geojson, \"docs/mitigation_sites.geojson\", delete_dsn = TRUE)\n  }\n}, error = function(e) cat(\"Warning: Could not export shapefile polygons to GeoJSON:\", conditionMessage(e), \"\\n\"))\n\nif (!dir.exists(\"output/mitigation_points_shp\")) dir.create(\"output/mitigation_points_shp\", recursive = TRUE)\nif (!dir.exists(\"docs/mitigation_points_shp\")) dir.create(\"docs/mitigation_points_shp\", recursive = TRUE)\n\ntryCatch({\n  st_write(mitigation_sf_export, \"output/mitigation_points_shp/mitigation_points.shp\", delete_dsn = TRUE)\n  st_write(mitigation_sf_export, \"docs/mitigation_points_shp/mitigation_points.shp\", delete_dsn = TRUE)\n  \n  zip(\"output/mitigation_points_shp.zip\", \n      list.files(\"output/mitigation_points_shp\", full.names = TRUE),\n      flags = \"-j\")\n  file.copy(\"output/mitigation_points_shp.zip\", \"docs/mitigation_points_shp.zip\", overwrite = TRUE)\n}, error = function(e) cat(\"Warning: Could not export CSV points shapefile\\n\"))\n\n\nDeleting source `output/mitigation_points_shp/mitigation_points.shp' using driver `ESRI Shapefile'\nWriting layer `mitigation_points' to data source \n  `output/mitigation_points_shp/mitigation_points.shp' using driver `ESRI Shapefile'\nWriting 76 features with 21 fields and geometry type Point.\n\n\nDeleting source `docs/mitigation_points_shp/mitigation_points.shp' failed\nWriting layer `mitigation_points' to data source \n  `docs/mitigation_points_shp/mitigation_points.shp' using driver `ESRI Shapefile'\nWriting 76 features with 21 fields and geometry type Point.\n\n\n[1] TRUE\n\n\nCode\nif (!dir.exists(\"output/mitigation_sites_shp\")) dir.create(\"output/mitigation_sites_shp\", recursive = TRUE)\nif (!dir.exists(\"docs/mitigation_sites_shp\")) dir.create(\"docs/mitigation_sites_shp\", recursive = TRUE)\n\ntryCatch({\n  if (exists(\"mitigation_sites_sf_export\") && nrow(mitigation_sites_sf_export) &gt; 0) {\n    mitigation_sites_sf_simple &lt;- st_cast(mitigation_sites_sf_export, \"MULTIPOLYGON\") %&gt;%\n      st_cast(\"POLYGON\") %&gt;%\n      st_simplify(dTolerance = 0.001)\n    \n    st_write(mitigation_sites_sf_simple, \"output/mitigation_sites_shp/mitigation_sites.shp\", delete_dsn = TRUE)\n    st_write(mitigation_sites_sf_simple, \"docs/mitigation_sites_shp/mitigation_sites.shp\", delete_dsn = TRUE)\n    \n    shp_files &lt;- list.files(\"output/mitigation_sites_shp\", full.names = TRUE, pattern = \"\\\\.(shp|shx|dbf|prj)$\")\n    if (length(shp_files) &gt; 0) {\n      zip(\"output/mitigation_sites_shp.zip\", shp_files, flags = \"-j\")\n      if (file.exists(\"output/mitigation_sites_shp.zip\")) {\n        file.copy(\"output/mitigation_sites_shp.zip\", \"docs/mitigation_sites_shp.zip\", overwrite = TRUE)\n      }\n    }\n  }\n}, error = function(e) cat(\"Warning: Could not export polygon shapefile:\", conditionMessage(e), \"\\n\"))\n\n\nDeleting source `output/mitigation_sites_shp/mitigation_sites.shp' using driver `ESRI Shapefile'\nWriting layer `mitigation_sites' to data source \n  `output/mitigation_sites_shp/mitigation_sites.shp' using driver `ESRI Shapefile'\nWriting 90 features with 13 fields and geometry type Polygon.\n\n\nDeleting source `docs/mitigation_sites_shp/mitigation_sites.shp' failed\nWriting layer `mitigation_sites' to data source \n  `docs/mitigation_sites_shp/mitigation_sites.shp' using driver `ESRI Shapefile'\nWriting 90 features with 13 fields and geometry type Polygon.\n\n\n[1] TRUE\n\n\nCode\n# Load CSV data\nmitigation_data &lt;- read_csv(\"data/gis/Mitigation_PointsAGOL.csv\", show_col_types = FALSE)\nmitigation_data &lt;- mitigation_data %&gt;%\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Normalize project names to match shapefile naming (remove extra spaces)\npopup_name_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_data)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_data)) \"POPUP_NAME\" else NULL\nif (!is.null(popup_name_col)) {\n  mitigation_data[[popup_name_col]] &lt;- gsub(\"129/ 118\", \"129/118\", mitigation_data[[popup_name_col]], fixed = TRUE)\n  # Also normalize any other common spacing issues\n  mitigation_data[[popup_name_col]] &lt;- gsub(\"  \", \" \", mitigation_data[[popup_name_col]])  # Remove double spaces\n  mitigation_data[[popup_name_col]] &lt;- trimws(mitigation_data[[popup_name_col]])  # Trim whitespace\n}\n\n# Convert CSV to spatial points\nmitigation_sf &lt;- st_as_sf(\n  mitigation_data,\n  coords = c(\"Longitude\", \"Latitude\"),\n  crs = 4326\n)\n\n# Create popup text for CSV points\npopup_name_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_sf)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_sf)) \"POPUP_NAME\" else NULL\n\nif (!is.null(popup_name_col)) {\n  project_names &lt;- ifelse(is.na(mitigation_sf[[popup_name_col]]), \"Project\", mitigation_sf[[popup_name_col]])\n} else {\n  project_names &lt;- rep(\"Project\", nrow(mitigation_sf))\n}\n\nmitigation_sf$popup_text &lt;- paste0(\n  \"&lt;b&gt;\", project_names, \"&lt;/b&gt;&lt;br&gt;\",\n  ifelse(!is.na(mitigation_sf$PROJECT_TYPE_2), paste0(\"Type: \", mitigation_sf$PROJECT_TYPE_2, \"&lt;br&gt;\"), \"\"),\n  ifelse(!is.na(mitigation_sf$ACRES), paste0(\"Acres: \", mitigation_sf$ACRES, \"&lt;br&gt;\"), \"\"),\n  ifelse(!is.na(mitigation_sf$Project_Status), paste0(\"Status: \", mitigation_sf$Project_Status, \"&lt;br&gt;\"), \"\"),\n  ifelse(!is.na(mitigation_sf$DESCRIPTION), paste0(\"Description: \", substr(mitigation_sf$DESCRIPTION, 1, 200), \"...\"), \"\")\n)\n\n# Create color palette for CSV points (for ggplot)\nif (\"PROJECT_TYPE_2\" %in% names(mitigation_sf)) {\n  project_types &lt;- unique(mitigation_sf$PROJECT_TYPE_2)\n  project_types &lt;- project_types[!is.na(project_types)]\n  # Create named vector of colors for ggplot\n  n_types &lt;- length(project_types)\n  project_colors_vec &lt;- RColorBrewer::brewer.pal(min(n_types, 9), \"Set1\")\n  if (n_types &gt; 9) {\n    project_colors_vec &lt;- c(project_colors_vec, RColorBrewer::brewer.pal(min(n_types - 9, 8), \"Set2\"))\n  }\n  project_colors &lt;- setNames(project_colors_vec[1:n_types], project_types)\n} else {\n  project_colors &lt;- NULL\n}\n\n# Load shapefile data\nmitigation_sites_sf &lt;- st_read(\"data/gis/mit_points/mitigation_sites.shp\", quiet = TRUE) %&gt;%\n  st_transform(4326)\n\n# Create popup text for shapefile polygons\nmitigation_sites_sf &lt;- mitigation_sites_sf %&gt;%\n  mutate(\n    popup_name = ifelse(is.na(Name) | Name == \"\", \"Project\", as.character(Name)),\n    popup_type = ifelse(is.na(TYPE) | TYPE == \"\", \"\", paste0(\"Type: \", TYPE, \"&lt;br&gt;\")),\n    popup_acres = ifelse(is.na(Acres), \"\", paste0(\"Acres: \", round(Acres, 1), \"&lt;br&gt;\")),\n    popup_desc = ifelse(is.na(Sidebar_DE) | Sidebar_DE == \"\", \"\", paste0(\"Description: \", substr(Sidebar_DE, 1, 200), \"...\")),\n    popup_text = paste0(\"&lt;b&gt;\", popup_name, \"&lt;/b&gt;&lt;br&gt;\", popup_type, popup_acres, popup_desc)\n  ) %&gt;%\n  select(-popup_name, -popup_type, -popup_acres, -popup_desc)\n\n# Create color palette for shapefile polygons (for ggplot)\nif (\"TYPE\" %in% names(mitigation_sites_sf)) {\n  site_types &lt;- unique(mitigation_sites_sf$TYPE)\n  site_types &lt;- site_types[!is.na(site_types)]\n  # Create named vector of colors for ggplot\n  n_types &lt;- length(site_types)\n  site_colors_vec &lt;- RColorBrewer::brewer.pal(min(n_types, 8), \"Set2\")\n  if (n_types &gt; 8) {\n    site_colors_vec &lt;- c(site_colors_vec, RColorBrewer::brewer.pal(min(n_types - 8, 9), \"Set1\"))\n  }\n  site_colors &lt;- setNames(site_colors_vec[1:n_types], site_types)\n} else {\n  site_colors &lt;- NULL\n}\n\n# Prepare CSV table data - simplified to just POPUP NAME for testing\npopup_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_data)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_data)) \"POPUP_NAME\" else NULL\n\nif (!is.null(popup_col) && popup_col %in% names(mitigation_data)) {\n  mitigation_table_data &lt;- mitigation_data %&gt;%\n    select(all_of(popup_col)) %&gt;%\n    rename(`POPUP NAME` = all_of(popup_col))\n} else {\n  mitigation_table_data &lt;- data.frame(`POPUP NAME` = character(0))\n}\n\n# Prepare shapefile table data\nshapefile_table_data &lt;- mitigation_sites_sf %&gt;%\n  st_drop_geometry() %&gt;%\n  select(Name, TYPE, Acres, Sidebar_DE, UID) %&gt;%\n  mutate(Acres = round(Acres, 1))\n\ncolnames(shapefile_table_data) &lt;- gsub(\"_\", \" \", colnames(shapefile_table_data))\n\n# Create filtered versions for maps only (exclude Haiwee for better zoom)\n# Original data remains unfiltered for tables and downloads\npopup_name_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_sf)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_sf)) \"POPUP_NAME\" else NULL\nif (!is.null(popup_name_col)) {\n  mitigation_sf_map &lt;- mitigation_sf %&gt;%\n    filter(!grepl(\"Haiwee|haiwee\", !!sym(popup_name_col), ignore.case = TRUE))\n} else {\n  mitigation_sf_map &lt;- mitigation_sf\n}\n\n# Create filtered version of shapefile for maps only\nmitigation_sites_sf_map &lt;- mitigation_sites_sf %&gt;%\n  filter(!grepl(\"Haiwee|haiwee\", Name, ignore.case = TRUE))\n\ncat(\"Setup complete. Data loaded and prepared.\\n\")\n\n\nSetup complete. Data loaded and prepared."
  },
  {
    "objectID": "data_processing.html#setup",
    "href": "data_processing.html#setup",
    "title": "Data Processing",
    "section": "",
    "text": "This section loads and processes the data for visualization and analysis. The setup code also generates the download files available on the main page.\n\n\nCode\n# Load all required libraries\nlibrary(DT)\nlibrary(ggplot2)\nlibrary(ggrepel)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(readr)\nlibrary(RColorBrewer)\n\n# Export data for downloads (same code as index.qmd setup)\n# Load CSV data\nmitigation_data_export &lt;- read_csv(\"data/gis/Mitigation_PointsAGOL.csv\", show_col_types = FALSE)\nmitigation_data_export &lt;- mitigation_data_export %&gt;%\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Normalize project names\npopup_name_col_export &lt;- if (\"POPUP NAME\" %in% names(mitigation_data_export)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_data_export)) \"POPUP_NAME\" else NULL\nif (!is.null(popup_name_col_export)) {\n  mitigation_data_export[[popup_name_col_export]] &lt;- gsub(\"129/ 118\", \"129/118\", mitigation_data_export[[popup_name_col_export]], fixed = TRUE)\n  mitigation_data_export[[popup_name_col_export]] &lt;- gsub(\"  \", \" \", mitigation_data_export[[popup_name_col_export]])\n  mitigation_data_export[[popup_name_col_export]] &lt;- trimws(mitigation_data_export[[popup_name_col_export]])\n}\n\n# Convert CSV to spatial points\nmitigation_sf_export &lt;- st_as_sf(\n  mitigation_data_export,\n  coords = c(\"Longitude\", \"Latitude\"),\n  crs = 4326\n)\n\n# Load shapefile data\nmitigation_sites_sf_export &lt;- st_read(\"data/gis/mit_points/mitigation_sites.shp\", quiet = TRUE) %&gt;%\n  st_transform(4326)\n\n# Export data\nif (!dir.exists(\"output\")) dir.create(\"output\", recursive = TRUE)\nif (!dir.exists(\"docs\")) dir.create(\"docs\", recursive = TRUE)\n\ntryCatch({\n  write_sf(mitigation_sf_export, \"output/mitigation_points.geojson\", delete_dsn = TRUE)\n  write_sf(mitigation_sf_export, \"docs/mitigation_points.geojson\", delete_dsn = TRUE)\n}, error = function(e) cat(\"Warning: Could not export CSV points to GeoJSON\\n\"))\n\ntryCatch({\n  if (exists(\"mitigation_sites_sf_export\") && nrow(mitigation_sites_sf_export) &gt; 0) {\n    mitigation_sites_sf_geojson &lt;- st_cast(mitigation_sites_sf_export, \"MULTIPOLYGON\") %&gt;%\n      st_cast(\"POLYGON\") %&gt;%\n      st_simplify(dTolerance = 0.001)\n    \n    write_sf(mitigation_sites_sf_geojson, \"output/mitigation_sites.geojson\", delete_dsn = TRUE)\n    write_sf(mitigation_sites_sf_geojson, \"docs/mitigation_sites.geojson\", delete_dsn = TRUE)\n  }\n}, error = function(e) cat(\"Warning: Could not export shapefile polygons to GeoJSON:\", conditionMessage(e), \"\\n\"))\n\nif (!dir.exists(\"output/mitigation_points_shp\")) dir.create(\"output/mitigation_points_shp\", recursive = TRUE)\nif (!dir.exists(\"docs/mitigation_points_shp\")) dir.create(\"docs/mitigation_points_shp\", recursive = TRUE)\n\ntryCatch({\n  st_write(mitigation_sf_export, \"output/mitigation_points_shp/mitigation_points.shp\", delete_dsn = TRUE)\n  st_write(mitigation_sf_export, \"docs/mitigation_points_shp/mitigation_points.shp\", delete_dsn = TRUE)\n  \n  zip(\"output/mitigation_points_shp.zip\", \n      list.files(\"output/mitigation_points_shp\", full.names = TRUE),\n      flags = \"-j\")\n  file.copy(\"output/mitigation_points_shp.zip\", \"docs/mitigation_points_shp.zip\", overwrite = TRUE)\n}, error = function(e) cat(\"Warning: Could not export CSV points shapefile\\n\"))\n\n\nDeleting source `output/mitigation_points_shp/mitigation_points.shp' using driver `ESRI Shapefile'\nWriting layer `mitigation_points' to data source \n  `output/mitigation_points_shp/mitigation_points.shp' using driver `ESRI Shapefile'\nWriting 76 features with 21 fields and geometry type Point.\n\n\nDeleting source `docs/mitigation_points_shp/mitigation_points.shp' failed\nWriting layer `mitigation_points' to data source \n  `docs/mitigation_points_shp/mitigation_points.shp' using driver `ESRI Shapefile'\nWriting 76 features with 21 fields and geometry type Point.\n\n\n[1] TRUE\n\n\nCode\nif (!dir.exists(\"output/mitigation_sites_shp\")) dir.create(\"output/mitigation_sites_shp\", recursive = TRUE)\nif (!dir.exists(\"docs/mitigation_sites_shp\")) dir.create(\"docs/mitigation_sites_shp\", recursive = TRUE)\n\ntryCatch({\n  if (exists(\"mitigation_sites_sf_export\") && nrow(mitigation_sites_sf_export) &gt; 0) {\n    mitigation_sites_sf_simple &lt;- st_cast(mitigation_sites_sf_export, \"MULTIPOLYGON\") %&gt;%\n      st_cast(\"POLYGON\") %&gt;%\n      st_simplify(dTolerance = 0.001)\n    \n    st_write(mitigation_sites_sf_simple, \"output/mitigation_sites_shp/mitigation_sites.shp\", delete_dsn = TRUE)\n    st_write(mitigation_sites_sf_simple, \"docs/mitigation_sites_shp/mitigation_sites.shp\", delete_dsn = TRUE)\n    \n    shp_files &lt;- list.files(\"output/mitigation_sites_shp\", full.names = TRUE, pattern = \"\\\\.(shp|shx|dbf|prj)$\")\n    if (length(shp_files) &gt; 0) {\n      zip(\"output/mitigation_sites_shp.zip\", shp_files, flags = \"-j\")\n      if (file.exists(\"output/mitigation_sites_shp.zip\")) {\n        file.copy(\"output/mitigation_sites_shp.zip\", \"docs/mitigation_sites_shp.zip\", overwrite = TRUE)\n      }\n    }\n  }\n}, error = function(e) cat(\"Warning: Could not export polygon shapefile:\", conditionMessage(e), \"\\n\"))\n\n\nDeleting source `output/mitigation_sites_shp/mitigation_sites.shp' using driver `ESRI Shapefile'\nWriting layer `mitigation_sites' to data source \n  `output/mitigation_sites_shp/mitigation_sites.shp' using driver `ESRI Shapefile'\nWriting 90 features with 13 fields and geometry type Polygon.\n\n\nDeleting source `docs/mitigation_sites_shp/mitigation_sites.shp' failed\nWriting layer `mitigation_sites' to data source \n  `docs/mitigation_sites_shp/mitigation_sites.shp' using driver `ESRI Shapefile'\nWriting 90 features with 13 fields and geometry type Polygon.\n\n\n[1] TRUE\n\n\nCode\n# Load CSV data\nmitigation_data &lt;- read_csv(\"data/gis/Mitigation_PointsAGOL.csv\", show_col_types = FALSE)\nmitigation_data &lt;- mitigation_data %&gt;%\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Normalize project names to match shapefile naming (remove extra spaces)\npopup_name_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_data)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_data)) \"POPUP_NAME\" else NULL\nif (!is.null(popup_name_col)) {\n  mitigation_data[[popup_name_col]] &lt;- gsub(\"129/ 118\", \"129/118\", mitigation_data[[popup_name_col]], fixed = TRUE)\n  # Also normalize any other common spacing issues\n  mitigation_data[[popup_name_col]] &lt;- gsub(\"  \", \" \", mitigation_data[[popup_name_col]])  # Remove double spaces\n  mitigation_data[[popup_name_col]] &lt;- trimws(mitigation_data[[popup_name_col]])  # Trim whitespace\n}\n\n# Convert CSV to spatial points\nmitigation_sf &lt;- st_as_sf(\n  mitigation_data,\n  coords = c(\"Longitude\", \"Latitude\"),\n  crs = 4326\n)\n\n# Create popup text for CSV points\npopup_name_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_sf)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_sf)) \"POPUP_NAME\" else NULL\n\nif (!is.null(popup_name_col)) {\n  project_names &lt;- ifelse(is.na(mitigation_sf[[popup_name_col]]), \"Project\", mitigation_sf[[popup_name_col]])\n} else {\n  project_names &lt;- rep(\"Project\", nrow(mitigation_sf))\n}\n\nmitigation_sf$popup_text &lt;- paste0(\n  \"&lt;b&gt;\", project_names, \"&lt;/b&gt;&lt;br&gt;\",\n  ifelse(!is.na(mitigation_sf$PROJECT_TYPE_2), paste0(\"Type: \", mitigation_sf$PROJECT_TYPE_2, \"&lt;br&gt;\"), \"\"),\n  ifelse(!is.na(mitigation_sf$ACRES), paste0(\"Acres: \", mitigation_sf$ACRES, \"&lt;br&gt;\"), \"\"),\n  ifelse(!is.na(mitigation_sf$Project_Status), paste0(\"Status: \", mitigation_sf$Project_Status, \"&lt;br&gt;\"), \"\"),\n  ifelse(!is.na(mitigation_sf$DESCRIPTION), paste0(\"Description: \", substr(mitigation_sf$DESCRIPTION, 1, 200), \"...\"), \"\")\n)\n\n# Create color palette for CSV points (for ggplot)\nif (\"PROJECT_TYPE_2\" %in% names(mitigation_sf)) {\n  project_types &lt;- unique(mitigation_sf$PROJECT_TYPE_2)\n  project_types &lt;- project_types[!is.na(project_types)]\n  # Create named vector of colors for ggplot\n  n_types &lt;- length(project_types)\n  project_colors_vec &lt;- RColorBrewer::brewer.pal(min(n_types, 9), \"Set1\")\n  if (n_types &gt; 9) {\n    project_colors_vec &lt;- c(project_colors_vec, RColorBrewer::brewer.pal(min(n_types - 9, 8), \"Set2\"))\n  }\n  project_colors &lt;- setNames(project_colors_vec[1:n_types], project_types)\n} else {\n  project_colors &lt;- NULL\n}\n\n# Load shapefile data\nmitigation_sites_sf &lt;- st_read(\"data/gis/mit_points/mitigation_sites.shp\", quiet = TRUE) %&gt;%\n  st_transform(4326)\n\n# Create popup text for shapefile polygons\nmitigation_sites_sf &lt;- mitigation_sites_sf %&gt;%\n  mutate(\n    popup_name = ifelse(is.na(Name) | Name == \"\", \"Project\", as.character(Name)),\n    popup_type = ifelse(is.na(TYPE) | TYPE == \"\", \"\", paste0(\"Type: \", TYPE, \"&lt;br&gt;\")),\n    popup_acres = ifelse(is.na(Acres), \"\", paste0(\"Acres: \", round(Acres, 1), \"&lt;br&gt;\")),\n    popup_desc = ifelse(is.na(Sidebar_DE) | Sidebar_DE == \"\", \"\", paste0(\"Description: \", substr(Sidebar_DE, 1, 200), \"...\")),\n    popup_text = paste0(\"&lt;b&gt;\", popup_name, \"&lt;/b&gt;&lt;br&gt;\", popup_type, popup_acres, popup_desc)\n  ) %&gt;%\n  select(-popup_name, -popup_type, -popup_acres, -popup_desc)\n\n# Create color palette for shapefile polygons (for ggplot)\nif (\"TYPE\" %in% names(mitigation_sites_sf)) {\n  site_types &lt;- unique(mitigation_sites_sf$TYPE)\n  site_types &lt;- site_types[!is.na(site_types)]\n  # Create named vector of colors for ggplot\n  n_types &lt;- length(site_types)\n  site_colors_vec &lt;- RColorBrewer::brewer.pal(min(n_types, 8), \"Set2\")\n  if (n_types &gt; 8) {\n    site_colors_vec &lt;- c(site_colors_vec, RColorBrewer::brewer.pal(min(n_types - 8, 9), \"Set1\"))\n  }\n  site_colors &lt;- setNames(site_colors_vec[1:n_types], site_types)\n} else {\n  site_colors &lt;- NULL\n}\n\n# Prepare CSV table data - simplified to just POPUP NAME for testing\npopup_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_data)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_data)) \"POPUP_NAME\" else NULL\n\nif (!is.null(popup_col) && popup_col %in% names(mitigation_data)) {\n  mitigation_table_data &lt;- mitigation_data %&gt;%\n    select(all_of(popup_col)) %&gt;%\n    rename(`POPUP NAME` = all_of(popup_col))\n} else {\n  mitigation_table_data &lt;- data.frame(`POPUP NAME` = character(0))\n}\n\n# Prepare shapefile table data\nshapefile_table_data &lt;- mitigation_sites_sf %&gt;%\n  st_drop_geometry() %&gt;%\n  select(Name, TYPE, Acres, Sidebar_DE, UID) %&gt;%\n  mutate(Acres = round(Acres, 1))\n\ncolnames(shapefile_table_data) &lt;- gsub(\"_\", \" \", colnames(shapefile_table_data))\n\n# Create filtered versions for maps only (exclude Haiwee for better zoom)\n# Original data remains unfiltered for tables and downloads\npopup_name_col &lt;- if (\"POPUP NAME\" %in% names(mitigation_sf)) \"POPUP NAME\" else if (\"POPUP_NAME\" %in% names(mitigation_sf)) \"POPUP_NAME\" else NULL\nif (!is.null(popup_name_col)) {\n  mitigation_sf_map &lt;- mitigation_sf %&gt;%\n    filter(!grepl(\"Haiwee|haiwee\", !!sym(popup_name_col), ignore.case = TRUE))\n} else {\n  mitigation_sf_map &lt;- mitigation_sf\n}\n\n# Create filtered version of shapefile for maps only\nmitigation_sites_sf_map &lt;- mitigation_sites_sf %&gt;%\n  filter(!grepl(\"Haiwee|haiwee\", Name, ignore.case = TRUE))\n\ncat(\"Setup complete. Data loaded and prepared.\\n\")\n\n\nSetup complete. Data loaded and prepared."
  },
  {
    "objectID": "data_processing.html#data-descriptions",
    "href": "data_processing.html#data-descriptions",
    "title": "Data Processing",
    "section": "Data Descriptions",
    "text": "Data Descriptions\n\nCSV Points Data Description\n\n\nCode\ncat(\"=== CSV Points Data Description ===\\n\")\n\n\n=== CSV Points Data Description ===\n\n\nCode\ncat(\"Total rows:\", nrow(mitigation_data), \"\\n\")\n\n\nTotal rows: 76 \n\n\nCode\ncat(\"Rows with valid coordinates:\", nrow(mitigation_data), \"\\n\")\n\n\nRows with valid coordinates: 76 \n\n\nCode\ncat(\"Columns:\", ncol(mitigation_data), \"\\n\")\n\n\nColumns: 23 \n\n\nCode\ncat(\"\\nGeometry Information:\\n\")\n\n\n\nGeometry Information:\n\n\nCode\ncat(\"Geometry type:\", st_geometry_type(mitigation_sf, by_geometry = FALSE), \"\\n\")\n\n\nGeometry type: 2 \n\n\nCode\ncat(\"Unique geometry types:\", paste(unique(st_geometry_type(mitigation_sf)), collapse = \", \"), \"\\n\")\n\n\nUnique geometry types: POINT \n\n\nCode\ncat(\"Has geometry column:\", !is.null(st_geometry(mitigation_sf)), \"\\n\")\n\n\nHas geometry column: TRUE \n\n\nCode\ncat(\"\\nColumn names:\\n\")\n\n\n\nColumn names:\n\n\nCode\nprint(names(mitigation_data))\n\n\n [1] \"UID\"              \"NOTES\"            \"Latitude\"         \"Longitude\"       \n [5] \"ACRES\"            \"PROJECT_TYPE_2\"   \"POPUP NAME\"       \"POLYGON_LAYER_ID\"\n [9] \"TYPE\"             \"ORIGIN\"           \"ORIGIN_2\"         \"ORIGIN_3\"        \n[13] \"Project_Status\"   \"STAT_NUM\"         \"STAT_DESCRP\"      \"DESCRIPTION\"     \n[17] \"IMPACT\"           \"DISCUSSION\"       \"WATER_DELIVERY\"   \"STUDIES_PROJECTS\"\n[21] \"ESTB_PTOTO\"       \"ADDL_RESOURCES\"   \"ADDL_PHOTOS\"     \n\n\nCode\ncat(\"\\nData structure:\\n\")\n\n\n\nData structure:\n\n\nCode\nstr(mitigation_data, give.attr = FALSE)\n\n\nspc_tbl_ [76 × 23] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ UID             : num [1:76] 1 2 3 4 5 6 7 8 9 10 ...\n $ NOTES           : chr [1:76] NA NA NA NA ...\n $ Latitude        : num [1:76] 37.2 36.7 36.8 36.8 37.3 ...\n $ Longitude       : num [1:76] -118 -118 -118 -118 -118 ...\n $ ACRES           : num [1:76] 364 256 3 87 27 3 6 80 5 79 ...\n $ PROJECT_TYPE_2  : chr [1:76] \"Habitat\" \"Habitat\" \"Habitat\" \"Habitat\" ...\n $ POPUP NAME      : chr [1:76] \"Yellow Billed Cuckoo Habitat, Baker Creek\" \"Yellow Billed Cuckoo Habitat, Hogback Creek\" \"Well 368\" \"Homestead\" ...\n $ POLYGON_LAYER_ID: chr [1:76] \"Yellow Billed Cuckoo Habitat Baker Creek\" \"Yellow Billed Cuckoo Habitat Hogback Creek\" \"Well 368 - 1600 AF\" \"Homestead - 1600 AF\" ...\n $ TYPE            : chr [1:76] \"MOU\" \"MOU\" \"MOU, 1600 AF\" \"MOU, 1600 AF\" ...\n $ ORIGIN          : chr [1:76] \"&lt;a href=\\\"https://www.inyowater.org/documents/governing-documents/mou/\\\"&gt;MOU Section III.A.1&lt;/a&gt;\" \"&lt;a href=\\\"https://www.inyowater.org/documents/governing-documents/mou/\\\"&gt;MOU Section III.A.1&lt;/a&gt;\" \"&lt;a href=\\\"https://www.inyowater.org/documents/governing-documents/mou/\\\"&gt;MOU Section III.A.3&lt;/a&gt;\" \"&lt;a href=\\\"https://www.inyowater.org/documents/governing-documents/mou/\\\"&gt;MOU Section III.A.3&lt;/a&gt;\" ...\n $ ORIGIN_2        : chr [1:76] \"&lt;a href=\\\"https://www.inyowater.org/wp-content/uploads/legacy/Mitigation/additional_mitigation_sites/AD%20HOC%2\"| __truncated__ \"&lt;a href=\\\"https://www.inyowater.org/wp-content/uploads/legacy/Mitigation/additional_mitigation_sites/AD%20HOC%2\"| __truncated__ \"&lt;a href=\\\"https://www.inyowater.org/wp-content/uploads/legacy/Mitigation/additional_mitigation_sites/AD%20HOC%2\"| __truncated__ \"&lt;a href=\\\"https://www.inyowater.org/wp-content/uploads/legacy/Mitigation/additional_mitigation_sites/AD%20HOC%2\"| __truncated__ ...\n $ ORIGIN_3        : chr [1:76] \"&lt;a href=\\\"https://www.inyowater.org/wp-content/uploads/legacy/Mitigation/ybcu/YBC_MND_12Nov2009.pdf\\\"&gt;Mitigated\"| __truncated__ \"&lt;a href=\\\"https://www.inyowater.org/wp-content/uploads/legacy/Mitigation/ybcu/YBC_MND_12Nov2009.pdf\\\"&gt;Mitigated\"| __truncated__ NA NA ...\n $ Project_Status  : chr [1:76] \"Implemented and ongoing\" \"Implemented and ongoing\" \"Implemented and ongoing\" \"Fully implemented, but not meeting goals\" ...\n $ STAT_NUM        : num [1:76] 50 50 50 50 50 50 50 50 50 50 ...\n $ STAT_DESCRP     : chr [1:76] \"The project area has burned multiple times, which had limited the effectiveness of habitat enhancement efforts.\" \"The project area has maintained a good cover of mature tree canopy. Avian surveys have not been conducted. The \"| __truncated__ \"The aquatic habitat sustained by this flow has diminished in recent years, likely due to changes in the waterco\"| __truncated__ \"Beneficial riparian habitat has developed; however, a key component of the project is the establishment of a on\"| __truncated__ ...\n $ DESCRIPTION     : chr [1:76] \"This habitat project is designed to enhance vegetation, including tree planting, to enlarge and augment existing YBC habitat.\" \"This habitat project, guided by a land management plan, includes tree planting to enlarge and enhance existing YBC habitat.\" \"This Additional Mitigation habitat project will create and maintain riparian, aquatic and spring habitats. It a\"| __truncated__ \"This Additional Mitigation habitat project will create riparian, wetland, spring, and pond habitats and improve\"| __truncated__ ...\n $ IMPACT          : chr [1:76] \"Enlarges and enhances YBC habitat at Baker Creek.\" \"Enlarges and enhances YBC habitat at Hogback Creek.\" \"Provides riparian, aquatic, and spring habitat.\" \"Provides riparian, wetland, and spring habitats.\" ...\n $ DISCUSSION      : logi [1:76] NA NA NA NA NA NA ...\n $ WATER_DELIVERY  : logi [1:76] NA NA NA NA NA NA ...\n $ STUDIES_PROJECTS: logi [1:76] NA NA NA NA NA NA ...\n $ ESTB_PTOTO      : chr [1:76] \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/43d57c17cbd34436a8a50b84b7adc54c/data\" \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/43d57c17cbd34436a8a50b84b7adc54c/data\" \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/7fe98a5b4bd04a818e3102de231a9f84/data\" \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/6ea6d36ef8e54a5bae0da58510e548a7/data\" ...\n $ ADDL_RESOURCES  : chr [1:76] \"&lt;a href=\\\"https://www.dropbox.com/sh/n0s2svmu1zxkmch/AADwbyZkzNMF4dy6MpSKI-xQa?dl=0\\\"&gt;Additional Resources&lt;/a&gt;\" \"&lt;a href=\\\"https://www.dropbox.com/sh/n0s2svmu1zxkmch/AADwbyZkzNMF4dy6MpSKI-xQa?dl=0\\\"&gt;Additional Resources&lt;/a&gt;\" NA \"&lt;a href=\\\"https://www.dropbox.com/sh/r9tz240hizb0r7v/AADzeSzDKwZybyBIYllMEImVa?dl=0https://www.dropbox.com/sh/r\"| __truncated__ ...\n $ ADDL_PHOTOS     : chr [1:76] NA NA NA NA ...\n\n\nCode\ncat(\"\\nFirst few rows:\\n\")\n\n\n\nFirst few rows:\n\n\nCode\nprint(head(mitigation_data, 3))\n\n\n# A tibble: 3 × 23\n    UID NOTES Latitude Longitude ACRES PROJECT_TYPE_2 `POPUP NAME`              \n  &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;                     \n1     1 &lt;NA&gt;      37.2     -118.   364 Habitat        Yellow Billed Cuckoo Habi…\n2     2 &lt;NA&gt;      36.7     -118.   256 Habitat        Yellow Billed Cuckoo Habi…\n3     3 &lt;NA&gt;      36.8     -118.     3 Habitat        Well 368                  \n# ℹ 16 more variables: POLYGON_LAYER_ID &lt;chr&gt;, TYPE &lt;chr&gt;, ORIGIN &lt;chr&gt;,\n#   ORIGIN_2 &lt;chr&gt;, ORIGIN_3 &lt;chr&gt;, Project_Status &lt;chr&gt;, STAT_NUM &lt;dbl&gt;,\n#   STAT_DESCRP &lt;chr&gt;, DESCRIPTION &lt;chr&gt;, IMPACT &lt;chr&gt;, DISCUSSION &lt;lgl&gt;,\n#   WATER_DELIVERY &lt;lgl&gt;, STUDIES_PROJECTS &lt;lgl&gt;, ESTB_PTOTO &lt;chr&gt;,\n#   ADDL_RESOURCES &lt;chr&gt;, ADDL_PHOTOS &lt;chr&gt;\n\n\n\n\nMitigation Polygons Data Description\n\n\nCode\ncat(\"=== Mitigation Polygons Data Description ===\\n\")\n\n\n=== Mitigation Polygons Data Description ===\n\n\nCode\ncat(\"Total rows:\", nrow(mitigation_sites_sf), \"\\n\")\n\n\nTotal rows: 75 \n\n\nCode\ncat(\"Columns:\", ncol(mitigation_sites_sf), \"\\n\")\n\n\nColumns: 15 \n\n\nCode\ncat(\"\\nGeometry Information:\\n\")\n\n\n\nGeometry Information:\n\n\nCode\ncat(\"Geometry type:\", st_geometry_type(mitigation_sites_sf, by_geometry = FALSE), \"\\n\")\n\n\nGeometry type: 7 \n\n\nCode\ncat(\"Unique geometry types:\", paste(unique(st_geometry_type(mitigation_sites_sf)), collapse = \", \"), \"\\n\")\n\n\nUnique geometry types: MULTIPOLYGON \n\n\nCode\ncat(\"Has geometry column:\", !is.null(st_geometry(mitigation_sites_sf)), \"\\n\")\n\n\nHas geometry column: TRUE \n\n\nCode\ncat(\"\\nGeometry type breakdown:\\n\")\n\n\n\nGeometry type breakdown:\n\n\nCode\ngeom_types &lt;- st_geometry_type(mitigation_sites_sf)\ngeom_type_table &lt;- table(geom_types)\nprint(geom_type_table)\n\n\ngeom_types\n          GEOMETRY              POINT         LINESTRING            POLYGON \n                 0                  0                  0                  0 \n        MULTIPOINT    MULTILINESTRING       MULTIPOLYGON GEOMETRYCOLLECTION \n                 0                  0                 75                  0 \n    CIRCULARSTRING      COMPOUNDCURVE       CURVEPOLYGON         MULTICURVE \n                 0                  0                  0                  0 \n      MULTISURFACE              CURVE            SURFACE  POLYHEDRALSURFACE \n                 0                  0                  0                  0 \n               TIN           TRIANGLE \n                 0                  0 \n\n\nCode\ncat(\"\\nColumn names:\\n\")\n\n\n\nColumn names:\n\n\nCode\nprint(names(mitigation_sites_sf %&gt;% st_drop_geometry()))\n\n\n [1] \"Latitude\"   \"Longitude\"  \"Acres\"      \"UID\"        \"ObjectID_1\"\n [6] \"UID_1\"      \"Name\"       \"TYPE\"       \"Sidebar_DE\" \"Sidebar_Ph\"\n[11] \"ObjectID_2\" \"Shape__Are\" \"Shape__Len\" \"popup_text\"\n\n\nCode\ncat(\"\\nData structure:\\n\")\n\n\n\nData structure:\n\n\nCode\nstr(mitigation_sites_sf %&gt;% st_drop_geometry(), give.attr = FALSE)\n\n\n'data.frame':   75 obs. of  14 variables:\n $ Latitude  : num  37.2 36.7 36.8 36.8 37.3 ...\n $ Longitude : num  -118 -118 -118 -118 -118 ...\n $ Acres     : num  363.51 256.34 2.97 87.32 27.24 ...\n $ UID       : num  1 2 3 4 5 6 7 8 9 10 ...\n $ ObjectID_1: num  0 0 0 0 0 0 0 0 0 0 ...\n $ UID_1     : num  1 2 3 4 5 6 7 8 9 10 ...\n $ Name      : chr  \"Yellow Billed Cuckoo Habitat, Baker Creek\" \"Yellow Billed Cuckoo Habitat, Hogback Creek\" \"Well 368\" \"Homestead\" ...\n $ TYPE      : chr  \"Habitat MOU\" \"Habitat MOU\" \"Habitat MOU 1600 AF\" \"Habitat MOU 1600 AF\" ...\n $ Sidebar_DE: chr  \"This project, west of Big Pine, utilizes tree planting and other means to enhance and enlarge habitat for endan\"| __truncated__ \"This project, north of Lone Pine, supports suitable habitat for endangered Yellow-Billed Cuckoo\" \"Artesian well water is provided to create riparian, aquatic and spring habitats in support of the Owens Valley Pupfish\" \"Well water is used to create wetlands and spring habitat, and to irrigate alkali meadow\" ...\n $ Sidebar_Ph: chr  \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/70dde4f3b80d4850a81d58d93d218f74/data\" \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/5dc47b1f0e954a568ca2a036117eaa9c/data\" \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/1fca5c488e9c49b1ac7d1c62529fcb6c/data\" \"https://inyocounty.maps.arcgis.com/sharing/rest/content/items/a2647dc5b54e4fcebb6ee6674ea604b4/data\" ...\n $ ObjectID_2: num  1 2 3 4 5 6 7 8 9 10 ...\n $ Shape__Are: num  1.49e-04 1.05e-04 1.21e-06 3.57e-05 1.12e-05 ...\n $ Shape__Len: num  0.07486 0.13524 0.00914 0.0537 0.04377 ...\n $ popup_text: chr  \"&lt;b&gt;Yellow Billed Cuckoo Habitat, Baker Creek&lt;/b&gt;&lt;br&gt;Type: Habitat MOU&lt;br&gt;Acres: 363.5&lt;br&gt;Description: This proj\"| __truncated__ \"&lt;b&gt;Yellow Billed Cuckoo Habitat, Hogback Creek&lt;/b&gt;&lt;br&gt;Type: Habitat MOU&lt;br&gt;Acres: 256.3&lt;br&gt;Description: This pr\"| __truncated__ \"&lt;b&gt;Well 368&lt;/b&gt;&lt;br&gt;Type: Habitat MOU 1600 AF&lt;br&gt;Acres: 3&lt;br&gt;Description: Artesian well water is provided to cre\"| __truncated__ \"&lt;b&gt;Homestead&lt;/b&gt;&lt;br&gt;Type: Habitat MOU 1600 AF&lt;br&gt;Acres: 87.3&lt;br&gt;Description: Well water is used to create wetla\"| __truncated__ ...\n\n\nCode\ncat(\"\\nFirst few rows:\\n\")\n\n\n\nFirst few rows:\n\n\nCode\nprint(head(mitigation_sites_sf %&gt;% st_drop_geometry(), 3))\n\n\n  Latitude Longitude      Acres UID ObjectID_1 UID_1\n1 37.16063 -118.3196 363.509663   1          0     1\n2 36.65578 -118.1474 256.336871   2          0     2\n3 36.77049 -118.1240   2.965389   3          0     3\n                                         Name                TYPE\n1   Yellow Billed Cuckoo Habitat, Baker Creek         Habitat MOU\n2 Yellow Billed Cuckoo Habitat, Hogback Creek         Habitat MOU\n3                                    Well 368 Habitat MOU 1600 AF\n                                                                                                                                 Sidebar_DE\n1 This project, west of Big Pine, utilizes tree planting and other means to enhance and enlarge habitat for endangered Yellow-Billed Cuckoo\n2                                           This project, north of Lone Pine, supports suitable habitat for endangered Yellow-Billed Cuckoo\n3                    Artesian well water is provided to create riparian, aquatic and spring habitats in support of the Owens Valley Pupfish\n                                                                                           Sidebar_Ph\n1 https://inyocounty.maps.arcgis.com/sharing/rest/content/items/70dde4f3b80d4850a81d58d93d218f74/data\n2 https://inyocounty.maps.arcgis.com/sharing/rest/content/items/5dc47b1f0e954a568ca2a036117eaa9c/data\n3 https://inyocounty.maps.arcgis.com/sharing/rest/content/items/1fca5c488e9c49b1ac7d1c62529fcb6c/data\n  ObjectID_2   Shape__Are  Shape__Len\n1          1 1.492299e-04 0.074855450\n2          2 1.045505e-04 0.135242732\n3          3 1.211251e-06 0.009144914\n                                                                                                                                                                                                                                          popup_text\n1 &lt;b&gt;Yellow Billed Cuckoo Habitat, Baker Creek&lt;/b&gt;&lt;br&gt;Type: Habitat MOU&lt;br&gt;Acres: 363.5&lt;br&gt;Description: This project, west of Big Pine, utilizes tree planting and other means to enhance and enlarge habitat for endangered Yellow-Billed Cuckoo...\n2                                         &lt;b&gt;Yellow Billed Cuckoo Habitat, Hogback Creek&lt;/b&gt;&lt;br&gt;Type: Habitat MOU&lt;br&gt;Acres: 256.3&lt;br&gt;Description: This project, north of Lone Pine, supports suitable habitat for endangered Yellow-Billed Cuckoo...\n3                                                 &lt;b&gt;Well 368&lt;/b&gt;&lt;br&gt;Type: Habitat MOU 1600 AF&lt;br&gt;Acres: 3&lt;br&gt;Description: Artesian well water is provided to create riparian, aquatic and spring habitats in support of the Owens Valley Pupfish..."
  },
  {
    "objectID": "data_processing.html#interactive-data-tables",
    "href": "data_processing.html#interactive-data-tables",
    "title": "Data Processing",
    "section": "Interactive Data Tables",
    "text": "Interactive Data Tables\n\nCSV Points Data\nThis table shows data from the CSV file, which includes real-time updates on project status.\n\n\nTotal rows: 76 \n\n\n# A tibble: 76 × 1\n   `POPUP NAME`                               \n   &lt;chr&gt;                                      \n 1 Yellow Billed Cuckoo Habitat, Baker Creek  \n 2 Yellow Billed Cuckoo Habitat, Hogback Creek\n 3 Well 368                                   \n 4 Homestead                                  \n 5 Freeman Creek                              \n 6 Hines Springs, Well 355                    \n 7 Hines Springs, Aberdeen Ditch              \n 8 Warren Lake                                \n 9 North of Mazourka Canyon Rd                \n10 Diaz Lake                                  \n11 640 Acres Near Laws Revegetation           \n12 Lone Pine East Side Regreening             \n13 Lone Pine Woodlot                          \n14 Lone Pine Sports Complex                   \n15 Richards Field                             \n16 Van Norman Field                           \n17 Lone Pine West Side Regreening             \n18 Lone Pine Riparian Park                    \n19 Eastern California Museum                  \n20 Independence Roadside Rest Area            \n21 Independence Woodlot                       \n22 Independence Eastside Regreening           \n23 Independence Springfield                   \n24 Independence Pasturelands                  \n25 Big Pine Northeast Regreening              \n26 McNally Ponds and Native Pasture           \n27 Bishop Area Revegetation                   \n28 Shepherd Creek Alfalfa Field               \n29 Billy Lake                                 \n30 Twin Lakes                                 \n31 Goose Lake                                 \n32 Laws Historical Museum Irrigated Pastures  \n33 Laws/Poleta Native Pasture                 \n34 Farmers Pond                               \n35 Five Bridges Revegetation                  \n36 Buckley Ponds                              \n37 140 Acres Near Laws Revegetation           \n38 Klondike Lake                              \n39 Independence Ditch                         \n40 Big Pine Area Revegetation, 160 Acres      \n41 Steward Ranch                              \n42 Fish Springs Hatchery                      \n43 Blackrock 16E Revegetation                 \n44 Hines Spring South Revegetation            \n45 Little Blackrock Springs                   \n46 Blackrock Hatchery (Big Blackrock Springs) \n47 Independence 105 Revegetation              \n48 Independence 131 South Revegetation        \n49 Independence 131 North Revegetation        \n50 Independence 123 Revegetation              \n51 Reinhackle Spring                          \n52 Big and Little Seely Springs               \n53 Big Pine Area Revegetation, 20 Acres       \n54 Millpond                                   \n55 Klondike Lake South Shore Habitat Area     \n56 Tule Elk Field                             \n57 Haiwee Reservoir                           \n58 Calvert Slough                             \n59 Saunders Pond                              \n60 Delta Habitat Area                         \n61 River Pumpback Facility                    \n62 Islands Area                               \n63 River Intake Structure                     \n64 Drew Unit                                  \n65 Winterton Unit                             \n66 Waggoner Unit                              \n67 Thibaut Unit                               \n68 Laws 27 Irrigated Revegetation             \n69 Laws 90 Irrigated Revegetation             \n70 Laws 95 Irrigated Revegetation             \n71 Laws 94 Irrigated Revegetation             \n72 Laws 129/118 Irrigated Revegetation        \n73 Lower Owens River                          \n74 Tinemaha 54 Revegetation                   \n75 Big Pine Ditch                             \n76 Laws/Poleta Native Pasture                 \n\n\n\n\n\n\n\n\nMitigation Polygons Data\nThis table shows data from the mitigation polygons.\n\n\n\n\n\n\n\n\nProject Name Comparison\nThis section compares project names between the CSV points and mitigation polygons to identify projects that appear in one dataset but not the other.\n\n\n=== Project Comparison Summary ===\n\n\nTotal projects in CSV (after filtering): 75 \n\n\nTotal projects in Shapefile (after filtering): 75 \n\n\nProjects in BOTH datasets: 75 \n\n\nProjects ONLY in CSV: 0 \n\n\nProjects ONLY in Shapefile: 0 \n\n\n=== Projects in BOTH Datasets ( 75  projects) ===\n                                Project_Name In_CSV In_Shapefile\n            140 Acres Near Laws Revegetation    Yes          Yes\n            640 Acres Near Laws Revegetation    Yes          Yes\n                Big and Little Seely Springs    Yes          Yes\n       Big Pine Area Revegetation, 160 Acres    Yes          Yes\n        Big Pine Area Revegetation, 20 Acres    Yes          Yes\n                              Big Pine Ditch    Yes          Yes\n               Big Pine Northeast Regreening    Yes          Yes\n                                  Billy Lake    Yes          Yes\n                    Bishop Area Revegetation    Yes          Yes\n                  Blackrock 16E Revegetation    Yes          Yes\n  Blackrock Hatchery (Big Blackrock Springs)    Yes          Yes\n                               Buckley Ponds    Yes          Yes\n                              Calvert Slough    Yes          Yes\n                          Delta Habitat Area    Yes          Yes\n                                   Diaz Lake    Yes          Yes\n                                   Drew Unit    Yes          Yes\n                   Eastern California Museum    Yes          Yes\n                                Farmers Pond    Yes          Yes\n                       Fish Springs Hatchery    Yes          Yes\n                   Five Bridges Revegetation    Yes          Yes\n                               Freeman Creek    Yes          Yes\n                                  Goose Lake    Yes          Yes\n                            Haiwee Reservoir    Yes          Yes\n             Hines Spring South Revegetation    Yes          Yes\n               Hines Springs, Aberdeen Ditch    Yes          Yes\n                     Hines Springs, Well 355    Yes          Yes\n                                   Homestead    Yes          Yes\n               Independence 105 Revegetation    Yes          Yes\n               Independence 123 Revegetation    Yes          Yes\n         Independence 131 North Revegetation    Yes          Yes\n         Independence 131 South Revegetation    Yes          Yes\n                          Independence Ditch    Yes          Yes\n            Independence Eastside Regreening    Yes          Yes\n                   Independence Pasturelands    Yes          Yes\n             Independence Roadside Rest Area    Yes          Yes\n                    Independence Springfield    Yes          Yes\n                        Independence Woodlot    Yes          Yes\n                                Islands Area    Yes          Yes\n                               Klondike Lake    Yes          Yes\n      Klondike Lake South Shore Habitat Area    Yes          Yes\n         Laws 129/118 Irrigated Revegetation    Yes          Yes\n              Laws 27 Irrigated Revegetation    Yes          Yes\n              Laws 90 Irrigated Revegetation    Yes          Yes\n              Laws 94 Irrigated Revegetation    Yes          Yes\n              Laws 95 Irrigated Revegetation    Yes          Yes\n   Laws Historical Museum Irrigated Pastures    Yes          Yes\n                  Laws/Poleta Native Pasture    Yes          Yes\n                    Little Blackrock Springs    Yes          Yes\n              Lone Pine East Side Regreening    Yes          Yes\n                     Lone Pine Riparian Park    Yes          Yes\n                    Lone Pine Sports Complex    Yes          Yes\n              Lone Pine West Side Regreening    Yes          Yes\n                           Lone Pine Woodlot    Yes          Yes\n                           Lower Owens River    Yes          Yes\n            McNally Ponds and Native Pasture    Yes          Yes\n                                    Millpond    Yes          Yes\n                 North of Mazourka Canyon Rd    Yes          Yes\n                           Reinhackle Spring    Yes          Yes\n                              Richards Field    Yes          Yes\n                      River Intake Structure    Yes          Yes\n                     River Pumpback Facility    Yes          Yes\n                               Saunders Pond    Yes          Yes\n                Shepherd Creek Alfalfa Field    Yes          Yes\n                               Steward Ranch    Yes          Yes\n                                Thibaut Unit    Yes          Yes\n                    Tinemaha 54 Revegetation    Yes          Yes\n                              Tule Elk Field    Yes          Yes\n                                  Twin Lakes    Yes          Yes\n                            Van Norman Field    Yes          Yes\n                               Waggoner Unit    Yes          Yes\n                                 Warren Lake    Yes          Yes\n                                    Well 368    Yes          Yes\n                              Winterton Unit    Yes          Yes\n   Yellow Billed Cuckoo Habitat, Baker Creek    Yes          Yes\n Yellow Billed Cuckoo Habitat, Hogback Creek    Yes          Yes"
  },
  {
    "objectID": "data_processing.html#maps",
    "href": "data_processing.html#maps",
    "title": "Data Processing",
    "section": "Maps",
    "text": "Maps\n\nCSV Points - 2025 Status\n\n\n\n\n\nMap showing mitigation project points from CSV data with project names labeled. Note: Haiwee site not shown.\n\n\n\n\n\n\nMitigation Polygons\n\n\n\n\n\nMap showing mitigation polygons with project names labeled."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Mitigation Points Downloads",
    "section": "",
    "text": "This document provides mitigation project data from two sources: 1. Popup Info and Project Status Data: Point locations with project status information from a Google Sheet (last updated 2025), downloaded as CSV and converted to shapefile/GeoJSON for download 2. Mitigation Polygons: Polygon boundaries from the mitigation sites polygons used in the AGOL Web Map.\nBoth datasets include project names, types, and descriptions for various mitigation projects across the region."
  },
  {
    "objectID": "index.html#overview",
    "href": "index.html#overview",
    "title": "Mitigation Points Downloads",
    "section": "",
    "text": "This document provides mitigation project data from two sources: 1. Popup Info and Project Status Data: Point locations with project status information from a Google Sheet (last updated 2025), downloaded as CSV and converted to shapefile/GeoJSON for download 2. Mitigation Polygons: Polygon boundaries from the mitigation sites polygons used in the AGOL Web Map.\nBoth datasets include project names, types, and descriptions for various mitigation projects across the region."
  },
  {
    "objectID": "index.html#data-sources-and-metadata",
    "href": "index.html#data-sources-and-metadata",
    "title": "Mitigation Points Downloads",
    "section": "Data Sources and Metadata",
    "text": "Data Sources and Metadata\nThese datasets correspond to the layers displayed on the AGOL Mitigation Web Map. The data provided here includes the same spatial boundaries and project information, with real-time status updates from the source CSV and shapefile files.\n\nPopup Info and Project Status Data\nSource: data/gis/Mitigation_PointsAGOL.csv\nDescription: This dataset contains point locations for mitigation projects with popup information and project status data. The data originates from a Google Sheet used to track and update the status of mitigation projects (last updated 2025). The Google Sheet is synchronized with the AGOL mitigation map to provide real-time status updates. Here, the data was downloaded as a CSV file and converted to shapefile and GeoJSON formats for interested parties to download and use. Each point represents a mitigation project location with associated attributes including current project status (e.g., “Implemented and ongoing”, “Fully implemented, but not meeting goals”).\nDownloads: - GeoJSON: mitigation_points.geojson - Shapefile (ZIP): mitigation_points_shp.zip\nColumns: - POPUP NAME: Project name/identifier - PROJECT_TYPE_2: Type of project (Habitat, Recreation, Revegetation, Agriculture, Civic) - ACRES: Project area in acres - Project_Status: Implementation status with real-time updates from the source Google Sheet - Latitude/Longitude: Point coordinates (WGS84) - DESCRIPTION: Detailed project description - IMPACT: Project impact description - DISCUSSION: Additional discussion/notes - TYPE: Project type classification - ORIGIN: Origin/source of the project requirement\n\n\nMitigation Polygons\nSource: data/gis/mit_points/mitigation_sites.shp\nDescription: This dataset contains polygon boundaries for mitigation sites, corresponding to the polygon layer on the AGOL mitigation map. The shapefile includes the same polygon boundaries displayed on the web map, with project attributes and descriptions. These polygons represent the spatial extent of mitigation projects.\nDownloads: - GeoJSON: mitigation_sites.geojson - Shapefile (ZIP): mitigation_sites_shp.zip\nImportant Note on Multipart Polygons: The original shapefile contains 75 project records, all stored as MULTIPOLYGON geometry types. When a mitigation project is spatially broken apart (e.g., a project with multiple non-contiguous parcels), it is stored as a single MULTIPOLYGON feature with multiple parts. However, for shapefile compatibility and easier use in GIS software, the exported shapefile converts these MULTIPOLYGON features to individual POLYGON features. This means:\n\nOriginal data: 75 project records (some with multiple spatial parts)\nExported shapefile: 90 polygon features (multipart polygons split into individual polygons)\nResult: Some project names and attributes will appear multiple times in the exported shapefile, with each row representing a different spatial part of the same project\n\nFor example, if “Project A” has 3 separate parcels, it will appear as 3 rows in the exported shapefile, all with the same project name and attributes, but with different polygon geometries representing each parcel. This allows users to work with individual polygon parts while maintaining the project attribute information.\nColumns: - Name: Project name/identifier - TYPE: Project type (e.g., “Habitat MOU”, “Habitat MOU 1600 AF”) - Acres: Project area in acres - UID: Unique identifier - Sidebar_DE: Sidebar description text - Sidebar_Ph: Link to project photos/maps - geometry: Polygon boundaries"
  }
]